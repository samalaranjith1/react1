<!DOCTYPE html>
<html>
    <head>
        <title>
            Rest API
        </title>
        <script src="script.js"></script>
        <body>
            <div id="main-container">
                <h2 id="title">Hello world</h2>
                <button id="getText">Get Text</button>
                <button id="getUsers">Get JSON</button>
                <button id="getPosts">Get API DATA</button>
                <hr>
                <form id="addPost">
                    <input type="text" id="Title" placeholder="Title">
                    <br>
                    <input type="text" id="body" placeholder="Body">
                    <input type="submit" value="Submit">
                </form>

               
            </div>
            <div id="dataContainer">
            </div>
            
        </body>
        <script>

            let h2=document.getElementById('title')
            document.getElementById('getText').addEventListener('click',getText)
            document.getElementById('getUsers').addEventListener('click',getUsers)
            document.getElementById('getPosts').addEventListener('click',getPosts)
            document.getElementById('addPost').addEventListener('submit',addPost)



            function getText(){

                fetch()
                .then()
                .then()
                .catch()

            }

            function getUsers(){
                alert("getUsers button clicked")
            }


            function getPosts(){
                
                fetch('https://jsonplaceholder.typicode.com/posts')
                .then(res=> res.json())
                .then((data)=>{
                    let output='<h2>Posts</h2>';
                    data.forEach(function(post){
                        output+=
                        `<div>
                            <h3>${post.title}</h3>
                            <p>${post.body}</p>
                        </div>`;
                    });
                    document.getElementById('dataContainer').innerHTML=output;
                });                              
            }    

            function addPost(e){
                e.preventDefault();

                let title = document.getElementById('Title').value;
                let body = document.getElementById('body').value;
                
                fetch('https://jsonplaceholder.typicode.com/posts',{
                    method:'POST',
                    headers:{
                        'Accept':'application/json, text/plain,*/*',
                        'Content-type':'application/json'
                    },
                    body:JSON.stringify({
                        Title:title,
                        body:body

                    })
                }).then((res)=>res.json())
                .then((data)=>console.log(data))


            }
        </script>
    </head>

</html>